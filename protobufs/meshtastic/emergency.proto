syntax = "proto3";

package meshtastic;

option csharp_namespace = "Meshtastic.Protobufs";
option go_package = "github.com/meshtastic/go/generated";
option java_outer_classname = "Emergency";
option java_package = "com.geeksville.mesh";
option swift_prefix = "";

enum EmergencyType {
  SOS = 0;
  SAFE = 1;
  NEED = 2;
  RESOURCE = 3;
  STATUS = 4;
  HEARTBEAT = 5;
}

message EmergencyPayload {
  optional uint32 need = 1;
  repeated uint32 resource = 2;
}

message EmergencyMsg {
  EmergencyType type = 1;
  fixed32 node_id = 2;
  uint64 ts = 3;
  optional sint32 lat = 4;
  optional sint32 lon = 5;
  optional sint32 alt = 6;
  optional uint32 batt = 7;
  EmergencyPayload payload = 8;
}
